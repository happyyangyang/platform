<html lang="en">
  <head>
      <meta charset="utf-8">
      <title>自动化测试系统</title>
      <link rel="stylesheet" href="/css/bootstrap-simplex.min.css" />
      <link rel="stylesheet" href="/css/bootstrap-lumen.min.css" />
      <link rel="stylesheet" href="/css/bootstrap-cyborg.min.css" />
      <link rel="stylesheet" href="/css/bootstrap.css" />
      <link rel="stylesheet" href="/css/bootstrap-slate.min.css" />
      <link rel="stylesheet" href="/css/charisma-app.css" />
      <link rel="stylesheet" href="/css/bootstrap-cerulean.min.css" />
      <link rel="stylesheet" href="/css/bootstrap-spacelab.min.css" />
      <link rel="stylesheet" href="/css/bootstrap-slate.min.css" />

      <script src="/js/bootstrap-table.js" ></script>
      <script src="/js/jquery.min.js" ></script>
      <script src="/js/bootstrap.js" ></script>


      <script type="text/javascript">
    	function loginFunction(){
    		if($("#username").val()==null||(!$("#username").val().length>0)){
    			$("#alertContent").html("请输入用户名");
    			$("#alertId").show();
    		}else if($("#password").val()==null||(!$("#password").val().length>0)){
    			$("#alertId").show();
    			$("#alertContent").html("请输入密码");
    		}else{
    			$.ajax({
    				 url: '${appctx}/user/login.do',
     		        async: true,
     		        contentType:"application/json",
     		        type: 'POST',
     		        data: JSON.stringify({username:$("#username").val(),pwd:$("#password").val()}),
     		        success: function(data , textStatus){
     		          if(data.result=="success"){
     		        	  location.href="${appctx}/user/loginSuccess.do";
     		          }else if(data.result=="error"){
     		        	  $("#alertId").show();
     		        	  $("#alertContent").html("登陆失败，用户名或者密码不正确");
     		          }
     		        },
     		        error: function(jqXHR , textStatus , errorThrown){
     		        	$("#alertId").show();
     		        	$("#alertContent").html("系统异常，请联系管理员！");
     		        }
    			}
    					)
    		}
    	
    	}
    </script>
      <!--<script type="text/javascript">
            $(document).ready(function () {
                $('.configHead').load('/common/common.html')
            })
      </script>-->


</head>
<body>
<div class="ch-container">
    <div class="row">
    <div class="row">
        <div class="col-md-12 center login-header">
            <h2>自动化测试系统</h2>
        </div>
    </div>
    <div class="row">
        <div class="well col-md-5 center login-box">
            <div class="alert alert-danger" id="alertId" style="display: none;">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				<strong id="alertContent"></strong>
			</div>
            
                <fieldset>
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user  "></i></span>
                        <input type="text" class="form-control" id="username" placeholder="Username">
                    </div>
                    <div class="clearfix"></div><br>

                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock "></i></span>
                        <input type="password" class="form-control" id="password" placeholder="Password">
                    </div>
                    <div class="clearfix"></div><br>
                    <div class="row">
	                    <div class="col-md-6" style="text-align: left;padding-left:25px;"><a href="/user/registerPage">注册</a></div>
	                    <div class="col-md-6" style="text-align: right;padding-right:25px;"><a href="/user/getPasswordPage">找回密码</a></div>
                    </div>
                    
                    <div class="clearfix"></div>

                    <p class="center col-md-5">
                    	<button type="submit" class="btn btn-primary" id="loginId" onclick="loginFunction()">登录</button>
                    </p>
                    
                </fieldset>
           
        </div>
    </div>
</div>

</div>

</body>
</html>
